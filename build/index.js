(()=>{"use strict";var e,a={268(){const e=window.wp.blocks,a=window.wp.i18n,n=window.wp.blockEditor,l=window.wp.components,i=window.wp.element,t=window.ReactJSXRuntime,r=[{label:"Eastern Time (ET)",value:"America/New_York"},{label:"Central Time (CT)",value:"America/Chicago"},{label:"Mountain Time (MT)",value:"America/Denver"},{label:"Pacific Time (PT)",value:"America/Los_Angeles"},{label:"Alaska Time (AKT)",value:"America/Anchorage"},{label:"Hawaii Time (HT)",value:"Pacific/Honolulu"},{label:"UTC",value:"UTC"},{label:"London (GMT)",value:"Europe/London"},{label:"Paris (CET)",value:"Europe/Paris"},{label:"Tokyo (JST)",value:"Asia/Tokyo"},{label:"Sydney (AEDT)",value:"Australia/Sydney"}],o=[{label:"Monday",value:"monday"},{label:"Tuesday",value:"tuesday"},{label:"Wednesday",value:"wednesday"},{label:"Thursday",value:"thursday"},{label:"Friday",value:"friday"},{label:"Saturday",value:"saturday"},{label:"Sunday",value:"sunday"}],s=[{label:"1st",value:"1"},{label:"2nd",value:"2"},{label:"3rd",value:"3"},{label:"4th",value:"4"},{label:"Last",value:"-1"}],m=JSON.parse('{"UU":"telex/block-meeting-manager"}');(0,e.registerBlockType)(m.UU,{edit:function({attributes:e,setAttributes:m,clientId:g}){const{blockId:c,isRecurring:u,meetingDate:d,scheduleType:h,recurrenceDay:v,recurrenceWeek:_,startTime:b,endTime:p,timezone:x,jitsiProvider:j,jitsiDomain:y,jitsiRoom:T,jaasAppId:C,jaasApiKey:f,jaasKeyId:k,notificationTime:S}=e;return(0,i.useEffect)(()=>{c||m({blockId:g})},[c,g]),(0,i.useEffect)(()=>{if(!T){const e="meeting-"+Math.random().toString(36).substring(7);m({jitsiRoom:e})}},[]),(0,i.useEffect)(()=>{if(!u&&!d){const e=(new Date).toISOString().split("T")[0];m({meetingDate:e})}},[u,d]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.InspectorControls,{children:[(0,t.jsxs)(l.PanelBody,{title:(0,a.__)("Meeting Schedule","meeting-manager"),children:[(0,t.jsx)(l.ToggleControl,{label:(0,a.__)("Recurring Meeting","meeting-manager"),checked:u,onChange:e=>m({isRecurring:e})}),!u&&(0,t.jsx)(l.TextControl,{label:(0,a.__)("Meeting Date","meeting-manager"),type:"date",value:d,onChange:e=>m({meetingDate:e})}),u&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(l.SelectControl,{label:(0,a.__)("Schedule Type","meeting-manager"),value:h,options:[{label:"Weekly",value:"weekly"},{label:"Monthly",value:"monthly"}],onChange:e=>m({scheduleType:e})}),"weekly"===h&&(0,t.jsx)(l.SelectControl,{label:(0,a.__)("Day of Week","meeting-manager"),value:v,options:o,onChange:e=>m({recurrenceDay:e})}),"monthly"===h&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(l.SelectControl,{label:(0,a.__)("Week of Month","meeting-manager"),value:_,options:s,onChange:e=>m({recurrenceWeek:e})}),(0,t.jsx)(l.SelectControl,{label:(0,a.__)("Day of Week","meeting-manager"),value:v,options:o,onChange:e=>m({recurrenceDay:e})})]})]}),(0,t.jsx)(l.TextControl,{label:(0,a.__)("Start Time","meeting-manager"),type:"time",value:b,onChange:e=>m({startTime:e})}),(0,t.jsx)(l.TextControl,{label:(0,a.__)("End Time","meeting-manager"),type:"time",value:p,onChange:e=>m({endTime:e})}),(0,t.jsx)(l.SelectControl,{label:(0,a.__)("Timezone","meeting-manager"),value:x,options:r,onChange:e=>m({timezone:e})})]}),(0,t.jsxs)(l.PanelBody,{title:(0,a.__)("Jitsi Settings","meeting-manager"),children:[(0,t.jsx)(l.SelectControl,{label:(0,a.__)("Jitsi Provider","meeting-manager"),value:j,options:[{label:"Jitsi Meet (Free, 5min limit)",value:"meet"},{label:"JaaS - 8x8 (Paid, no limit)",value:"jaas"}],onChange:e=>m({jitsiProvider:e}),help:"jaas"===j?(0,a.__)("Requires 8x8 JaaS account with App ID and API Key","meeting-manager"):(0,a.__)("Free service with 5 minute meeting limit","meeting-manager")}),"meet"===j&&(0,t.jsx)(l.TextControl,{label:(0,a.__)("Jitsi Domain","meeting-manager"),value:y,onChange:e=>m({jitsiDomain:e}),help:(0,a.__)("Default: meet.jit.si","meeting-manager")}),"jaas"===j&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(l.TextControl,{label:(0,a.__)("JaaS App ID","meeting-manager"),value:C,onChange:e=>m({jaasAppId:e}),help:(0,a.__)("Your 8x8 App ID (e.g., vpaas-magic-cookie-xxx)","meeting-manager"),placeholder:"vpaas-magic-cookie-xxx"}),(0,t.jsx)(l.TextControl,{label:(0,a.__)("JaaS Private Key","meeting-manager"),value:f,onChange:e=>m({jaasApiKey:e}),help:(0,a.__)("Your RSA private key in PEM format (starts with -----BEGIN RSA PRIVATE KEY-----)","meeting-manager")}),(0,t.jsx)(l.TextControl,{label:(0,a.__)("JaaS Key ID","meeting-manager"),value:k,onChange:e=>m({jaasKeyId:e}),help:(0,a.__)("The Key ID from your 8x8 console (e.g., 4f4910)","meeting-manager"),placeholder:"abc123"})]}),(0,t.jsx)(l.TextControl,{label:(0,a.__)("Meeting Room URL","meeting-manager"),value:T,onChange:e=>m({jitsiRoom:e})})]}),(0,t.jsx)(l.PanelBody,{title:(0,a.__)("Notifications","meeting-manager"),children:(0,t.jsx)(l.__experimentalNumberControl,{label:(0,a.__)("Send email reminder (minutes before)","meeting-manager"),value:S,onChange:e=>m({notificationTime:parseInt(e)}),min:5,max:1440})})]}),(0,t.jsx)("div",{...(0,n.useBlockProps)(),children:(0,t.jsxs)("div",{className:"meeting-manager-editor",children:[(0,t.jsx)("div",{className:"meeting-manager-icon",children:"ðŸ“…"}),(0,t.jsx)("h3",{children:(0,a.__)("Meeting Manager","meeting-manager")}),(0,t.jsxs)("div",{className:"meeting-details",children:[(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:(0,a.__)("Schedule:","meeting-manager")})," ",u?"weekly"===h?`Every ${v}`:`${"-1"===_?"Last":s.find(e=>e.value===_)?.label} ${v} of every month`:(0,a.__)("Single meeting on ","meeting-manager")+(d||"date not set")]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:(0,a.__)("Time:","meeting-manager")})," ",b," - ",p," (",x,")"]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:(0,a.__)("Provider:","meeting-manager")})," ","jaas"===j?"8x8 JaaS":"Jitsi Meet"]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:(0,a.__)("Room:","meeting-manager")})," ","jaas"===j?`8x8.vc/${C}/${T}`:`${y}/${T}`]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:(0,a.__)("Reminder:","meeting-manager")})," ",S," minutes before"]})]})]})})]})}})}},n={};function l(e){var i=n[e];if(void 0!==i)return i.exports;var t=n[e]={exports:{}};return a[e](t,t.exports,l),t.exports}l.m=a,e=[],l.O=(a,n,i,t)=>{if(!n){var r=1/0;for(g=0;g<e.length;g++){for(var[n,i,t]=e[g],o=!0,s=0;s<n.length;s++)(!1&t||r>=t)&&Object.keys(l.O).every(e=>l.O[e](n[s]))?n.splice(s--,1):(o=!1,t<r&&(r=t));if(o){e.splice(g--,1);var m=i();void 0!==m&&(a=m)}}return a}t=t||0;for(var g=e.length;g>0&&e[g-1][2]>t;g--)e[g]=e[g-1];e[g]=[n,i,t]},l.o=(e,a)=>Object.prototype.hasOwnProperty.call(e,a),(()=>{var e={57:0,350:0};l.O.j=a=>0===e[a];var a=(a,n)=>{var i,t,[r,o,s]=n,m=0;if(r.some(a=>0!==e[a])){for(i in o)l.o(o,i)&&(l.m[i]=o[i]);if(s)var g=s(l)}for(a&&a(n);m<r.length;m++)t=r[m],l.o(e,t)&&e[t]&&e[t][0](),e[t]=0;return l.O(g)},n=globalThis.webpackChunkblock_meeting_manager=globalThis.webpackChunkblock_meeting_manager||[];n.forEach(a.bind(null,0)),n.push=a.bind(null,n.push.bind(n))})();var i=l.O(void 0,[350],()=>l(268));i=l.O(i)})();